
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia de Medicamentos - MissionCare Plus</title>
    
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?display=swap&family=Lexend:wght@400;500;700&family=Noto+Sans:wght@400;500;700">
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body {
            font-family: 'Lexend', 'Noto Sans', sans-serif;
            background-color: #f8fafc; /* gray-50 */
        }
        
        /* Custom Styles for a more polished look */
        .filter-btn {
            transition: all 0.2s ease-in-out;
            border: 2px solid transparent;
        }

        .filter-btn.active {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .med-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .med-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Category Tag Colors */
        .tag-analgesico { background-color: #fecaca; color: #b91c1c; }
        .tag-antialergico { background-color: #fed7aa; color: #c2410c; }
        .tag-anticonvulsivante { background-color: #fef08a; color: #a16207; }
        .tag-anti-infeccioso { background-color: #d9f99d; color: #4d7c0f; }
        .tag-cardiovascular { background-color: #fbcfe8; color: #9d174d; }
        .tag-gastrointestinal { background-color: #a5f3fc; color: #155e75; }
        .tag-respiratorio { background-color: #bfdbfe; color: #1e40af; }
        .tag-solucoes { background-color: #e0e7ff; color: #3730a3; }
        .tag-default { background-color: #e5e7eb; color: #374151; }
        
    </style>
</head>
<body class="bg-gray-50">

    <!-- MODAL DE DISCLAIMER APRIMORADO -->
    <div id="disclaimer-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-xl w-full max-w-lg p-6 md:p-8 max-h-[95vh] overflow-y-auto">
            <h2 class="text-xl font-bold text-red-700 mb-4" data-translate="disclaimer.title">⚠️ AVISO IMPORTANTE</h2>
            
            <!-- AVISO DE SEGURANÇA PEDIÁTRICA EM DESTAQUE -->
            <div class="p-4 rounded-lg bg-red-50 border-2 border-red-200 mb-5">
                <h3 class="font-bold text-red-800 flex items-center">
                    <i class="fas fa-child-reaching mr-3 fa-lg"></i>
                    <span>RISCO EXTREMO EM CRIANÇAS</span>
                </h3>
                <p class="text-red-700 mt-2 text-sm">
                    A dosagem de medicamentos em crianças é complexa e depende de peso e idade. 
                    <strong>NUNCA</strong> administre medicamentos a uma criança com base neste guia. 
                    Um erro pode causar danos graves ou ser fatal. 
                    <strong>É OBRIGATÓRIO CONSULTAR UM MÉDICO.</strong>
                </p>
            </div>

            <h3 class="text-lg font-semibold text-gray-800 mb-3" data-translate="disclaimer.subtitle">DECLARAÇÃO DE RESPONSABILIDADE</h3>
            <div class="text-sm text-gray-600 space-y-3">
                <p>Este guia destina-se <strong>exclusivamente a profissionais de saúde</strong> em contextos de missão. As informações não substituem uma avaliação clínica completa.</p>
                <p>Ao continuar, você confirma que é um profissional habilitado e assume total responsabilidade pelo uso das informações aqui contidas.</p>
            </div>
            <button id="accept-button" class="mt-6 w-full flex justify-center py-3 px-4 border border-transparent rounded-full shadow-sm text-lg font-bold text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500">
                Entendido, sou profissional de saúde
            </button>
        </div>
    </div>

    <!-- Container da Aplicação -->
    <div id="app-container" class="relative max-w-5xl mx-auto min-h-screen flex-col bg-white shadow-lg">
        <header class="sticky top-0 z-30 bg-white/95 p-4 backdrop-blur-sm border-b border-gray-200">
            <div class="flex items-center justify-between">
                <a href="index.html" class="text-gray-600 hover:text-teal-600">
                    <i class="fas fa-arrow-left fa-lg"></i>
                </a>
                <h1 class="text-gray-800 text-xl font-bold text-center">Guia de Medicamentos</h1>
                <div class="w-6"></div> <!-- Spacer -->
            </div>
        </header>

        <!-- BARRA DE FERRAMENTAS COM FILTROS -->
        <div id="filter-controls" class="sticky top-[73px] z-20 bg-white p-4 border-b border-gray-200">
            <div class="mb-4">
                <div class="relative">
                    <input type="text" id="search-input" placeholder="Pesquisar por nome ou indicação..." class="w-full form-input pl-10 pr-4 py-2 rounded-full border-gray-300 focus:border-teal-500 focus:ring-teal-500 shadow-sm">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                        <i class="fas fa-search text-gray-400"></i>
                    </div>
                </div>
            </div>
            <div id="category-filters" class="flex flex-wrap items-center gap-2">
                <span class="text-sm font-semibold mr-2 text-gray-600">Categorias:</span>
                <!-- Filtros serão inseridos aqui pelo JS -->
            </div>
        </div>
        
        <main class="flex-grow p-4">
             <!-- Lista de Medicamentos -->
            <div id="medication-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Conteúdo gerado dinamicamente -->
            </div>
            <p id="no-results" class="hidden text-center text-gray-500 mt-8">Nenhum medicamento encontrado.</p>
        </main>
        
        <nav class="fixed bottom-0 left-0 right-0 z-50 border-t border-gray-200 bg-white">
          <div class="mx-auto flex h-16 max-w-5xl items-center justify-around">
            <a href="index.html" class="flex h-full w-full flex-col items-center justify-center text-gray-600 hover:bg-gray-50 hover:text-teal-600">
              <i class="fas fa-home text-2xl"></i>
              <span class="mt-1 text-xs font-bold uppercase">Início</span>
            </a>
          </div>
        </nav>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    
    // --- DADOS DOS MEDICAMENTOS (NOVA ESTRUTURA) ---
    const medicationData = [
        { categoria: 'Analgésicos', tag: 'analgesico', nome: 'Paracetamol', indicacao: 'Dor e Febre', apresentacao: 'Comprimido 500 mg', justificativa: 'Primeira linha para dor e febre. Seguro em casos de suspeita de Dengue.' },
        { categoria: 'Analgésicos', tag: 'analgesico', nome: 'Ibuprofeno', indicacao: 'Dor Inflamatória', apresentacao: 'Comprimido 400 mg', justificativa: 'Dor de origem inflamatória (muscular, cólica). Evitar se suspeita de Dengue.' },
        { categoria: 'Antialérgicos', tag: 'antialergico', nome: 'Loratadina', indicacao: 'Alergias Leves', apresentacao: 'Comprimido 10 mg', justificativa: 'Urticária e rinite alérgica. Não causa sonolência na maioria dos pacientes.' },
        { categoria: 'Antialérgicos', tag: 'antialergico', nome: 'Hidrocortisona Injetável', indicacao: 'Reações Alérgicas Graves', apresentacao: 'Pó para injeção 100 mg', justificativa: 'Usado após Epinefrina em anafilaxia, ou em crises de asma e reações alérgicas severas.' },
        { categoria: 'Anticonvulsivantes', tag: 'anticonvulsivante', nome: 'Diazepam Injetável', indicacao: 'Convulsões Ativas', apresentacao: 'Injetável 5 mg/mL', justificativa: 'Manejo de emergência do estado de mal epiléptico (convulsões prolongadas).' },
        { categoria: 'Anti-infecciosos', tag: 'anti-infeccioso', nome: 'Amoxicilina', indicacao: 'Infecções Respiratórias', apresentacao: 'Comprimido 500 mg', justificativa: 'Infecções bacterianas comuns como otite, sinusite e pneumonia leve.' },
        { categoria: 'Anti-infecciosos', tag: 'anti-infeccioso', nome: 'Amoxicilina + Clavulanato', indicacao: 'Mordeduras e Infecções de Pele', apresentacao: 'Comprimido 500mg/125mg', justificativa: 'Amplo espectro, eficaz para mordeduras de animais, infecções de pele e sinusites resistentes.' },
        { categoria: 'Anti-infecciosos', tag: 'anti-infeccioso', nome: 'Azitromicina', indicacao: 'Infecções Sexuais e Respiratórias', apresentacao: 'Comprimido 500 mg', justificativa: 'Tratamento de clamídia, pneumonia atípica e febre tifoide.' },
        { categoria: 'Anti-infecciosos', tag: 'anti-infeccioso', nome: 'Doxiciclina', indicacao: 'Infecções por Carrapatos e Cólera', apresentacao: 'Comprimido 100 mg', justificativa: 'Antibiótico versátil para doenças por carrapatos (Ex: Febre Maculosa), cólera e malária (profilaxia).' },
        { categoria: 'Anti-infecciosos', tag: 'anti-infeccioso', nome: 'Metronidazol', indicacao: 'Gastroenterites e Abscessos', apresentacao: 'Comprimido 250 mg', justificativa: 'Tratamento de giardíase, amebíase e infecções por bactérias anaeróbias (abscessos dentários).' },
        { categoria: 'Anti-infecciosos', tag: 'anti-infeccioso', nome: 'Nitrofurantoína', indicacao: 'Infecção Urinária (Cistite)', apresentacao: 'Comprimido 100 mg', justificativa: 'Tratamento de escolha para infecções urinárias baixas não complicadas.' },
        { categoria: 'Anti-infecciosos', tag: 'anti-infeccioso', nome: 'Ceftriaxona Injetável', indicacao: 'Infecções Graves', apresentacao: 'Pó para injeção 1 g', justificativa: 'Antibiótico injetável crucial para tratar infecções graves como meningite, sepse e pneumonia grave.' },
        { categoria: 'Anti-infecciosos', tag: 'anti-infeccioso', nome: 'Albendazol', indicacao: 'Vermes Intestinais', apresentacao: 'Comprimido mastigável 400 mg', justificativa: 'Tratamento de amplo espectro para a maioria das parasitoses intestinais.' },
        { categoria: 'Gastrointestinais', tag: 'gastrointestinal', nome: 'Sais de Reidratação Oral', indicacao: 'Diarreia e Desidratação', apresentacao: 'Pó para diluição', justificativa: 'Insubstituível e salvador de vidas. Base do tratamento para diarreia aguda.' },
        { categoria: 'Gastrointestinais', tag: 'gastrointestinal', nome: 'Omeprazol', indicacao: 'Azia e Gastrite', apresentacao: 'Comprimido 20 mg', justificativa: 'Reduz a produção de ácido no estômago, usado para úlceras, gastrite e refluxo.' },
        { categoria: 'Gastrointestinais', tag: 'gastrointestinal', nome: 'Metoclopramida', indicacao: 'Náuseas e Vômitos', apresentacao: 'Comprimido 10 mg', justificativa: 'Controla náuseas e vômitos de diversas causas.' },
        { categoria: 'Respiratório', tag: 'respiratorio', nome: 'Salbutamol Inalador', indicacao: 'Falta de Ar (Asma)', apresentacao: 'Inalador de dose medida', justificativa: 'Medicamento de resgate para alívio rápido da falta de ar em crises de asma e DPOC.' },
        { categoria: 'Cardiovasculares', tag: 'cardiovascular', nome: 'AAS (Ácido Acetilsalicílico)', indicacao: 'Prevenção de Infarto', apresentacao: 'Comprimido 100 mg', justificativa: 'Antiagregante plaquetário usado na suspeita de infarto e para prevenção em pacientes de alto risco.' },
        { categoria: 'Cardiovasculares', tag: 'cardiovascular', nome: 'Enalapril', indicacao: 'Pressão Alta', apresentacao: 'Comprimido 20 mg', justificativa: 'Medicamento chave para tratamento de hipertensão arterial e insuficiência cardíaca.' },
        { categoria: 'Soluções', tag: 'solucoes', nome: 'Soro Fisiológico 0,9%', indicacao: 'Hidratação e Diluição', apresentacao: 'Bolsas de 500 mL', justificativa: 'Fundamental para acesso venoso, hidratação na veia e diluição de medicamentos injetáveis.' },
    ];

    // --- ELEMENTOS DO DOM ---
    const disclaimerModal = document.getElementById('disclaimer-modal');
    const acceptButton = document.getElementById('accept-button');
    const medicationList = document.getElementById('medication-list');
    const searchInput = document.getElementById('search-input');
    const categoryFiltersContainer = document.getElementById('category-filters');
    const noResults = document.getElementById('no-results');

    let activeCategory = 'Todos';

    // --- LÓGICA DE FUNCIONAMENTO ---

    // Lida com o modal de aviso
    const handleDisclaimer = () => {
        const accepted = localStorage.getItem('disclaimerAccepted_v2');
        if (accepted) {
            disclaimerModal.style.display = 'none';
        }
        acceptButton.addEventListener('click', () => {
            disclaimerModal.style.display = 'none';
            localStorage.setItem('disclaimerAccepted_v2', 'true');
        });
    };

    // Cria os botões de filtro de categoria
    const createCategoryFilters = () => {
        const categories = ['Todos', ...new Set(medicationData.map(med => med.categoria))];
        categoryFiltersContainer.innerHTML += categories.map(category => {
            const tag = medicationData.find(m => m.categoria === category)?.tag || 'default';
            const isActive = category === 'Todos' ? 'active' : '';
            const colorClasses = category === 'Todos' ? 'bg-gray-700 text-white' : `tag-${tag}`;
            return `<button class="filter-btn text-sm font-semibold px-3 py-1 rounded-full ${colorClasses} ${isActive}" data-category="${category}">${category}</button>`;
        }).join('');

        // Adiciona event listeners aos novos botões
        document.querySelectorAll('.filter-btn').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelector('.filter-btn.active').classList.remove('active', 'bg-gray-700', 'text-white');
                document.querySelector('.filter-btn.active').classList.add(`tag-${document.querySelector('.filter-btn.active').dataset.category.toLowerCase()}`);
                
                activeCategory = button.dataset.category;
                button.classList.add('active', 'bg-gray-700', 'text-white');
                renderMedicationList();
            });
        });
    };
    
    // Renderiza a lista de medicamentos com base nos filtros
    const renderMedicationList = () => {
        const searchTerm = searchInput.value.toLowerCase();
        
        const filteredData = medicationData.filter(med => {
            const categoryMatch = activeCategory === 'Todos' || med.categoria === activeCategory;
            const searchMatch = med.nome.toLowerCase().includes(searchTerm) || med.indicacao.toLowerCase().includes(searchTerm) || med.justificativa.toLowerCase().includes(searchTerm);
            return categoryMatch && searchMatch;
        });

        medicationList.innerHTML = ''; // Limpa a lista
        
        if (filteredData.length === 0) {
            noResults.style.display = 'block';
        } else {
            noResults.style.display = 'none';
            filteredData.forEach(med => {
                const card = document.createElement('div');
                card.className = 'med-card bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden';
                card.innerHTML = `
                    <div class="p-4">
                        <div class="flex items-center justify-between mb-2">
                            <p class="text-lg font-bold text-gray-800">${med.nome}</p>
                            <span class="tag-${med.tag} text-xs font-bold px-2 py-1 rounded-full">${med.categoria}</span>
                        </div>
                        <p class="text-sm font-semibold text-teal-600 mb-2">${med.indicacao}</p>
                        <p class="text-sm text-gray-500 mb-3"><strong>Apresentação:</strong> ${med.apresentacao}</p>
                        <p class="text-sm text-gray-700"><strong>Uso principal:</strong> ${med.justificativa}</p>
                    </div>
                `;
                medicationList.appendChild(card);
            });
        }
    };

    // --- INICIALIZAÇÃO ---
    handleDisclaimer();
    createCategoryFilters();
    renderMedicationList();

    // Adiciona o event listener para a barra de pesquisa
    searchInput.addEventListener('input', renderMedicationList);
});
</script>

</body>
</html>
