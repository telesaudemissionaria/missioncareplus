<!DOCTYPE html>
<html lang="pt-BR" id="html-lang">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="pageTitle">EmergÃªncias - MissionCare Plus</title>
    
    <!-- ImportaÃ§Ã£o de Fontes e Tailwind CSS -->
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?display=swap&family=Lexend:wght@400;500;700;900&family=Noto+Sans:wght@400;500;700;900">
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
    
    <!-- Scripts para modo offline -->
    <script src="/js/connection-manager.js"></script>
    <script src="/js/mode-switcher.js"></script>
    <script src="/js/sync-manager.js"></script>
    
    <style>
        body {
            font-family: 'Lexend', 'Noto Sans', sans-serif;
            --primary-color: #0d9488; /* Tailwind teal-600 */
            --danger-color: #dc2626; /* Tailwind red-600 */
        }
        .lang-btn {
            padding: 0.25rem 0.5rem; border-radius: 9999px;
            cursor: pointer; transition: all 0.2s;
            border: 2px solid transparent;
        }
        .lang-btn.active {
            border-color: var(--primary-color);
            background-color: white;
        }
        
        /* Estilos para o indicador de conexÃ£o */
        .connection-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 100;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .connection-indicator.online {
            background-color: #d1fae5;
            color: #065f46;
        }
        .connection-indicator.offline {
            background-color: #fee2e2;
            color: #991b1b;
        }
        .connection-indicator i {
            margin-right: 5px;
        }
        
        /* Estilos para notificaÃ§Ãµes */
        .mode-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            max-width: 80%;
            text-align: center;
        }
        .mode-notification.online {
            background-color: #d1fae5;
            color: #065f46;
            border-left: 4px solid #10b981;
        }
        .mode-notification.offline {
            background-color: #fee2e2;
            color: #991b1b;
            border-left: 4px solid #ef4444;
        }
        .mode-notification-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .mode-notification-text {
            display: flex;
            flex-direction: column;
        }
        .mode-notification-text strong {
            font-weight: 700;
        }
        .mode-notification-text small {
            font-size: 12px;
            opacity: 0.8;
        }
        .fade-out {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        
        /* Estilos para modo offline */
        .offline-banner {
            background-color: #fee2e2;
            color: #991b1b;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        /* Estilos para navegaÃ§Ã£o e layout de lista */
        body {
            padding-bottom: 80px;
        }
        .emergency-item-header {
            display: flex; justify-content: space-between; align-items: center;
            width: 100%; padding: 1.25rem 1rem; background-color: white;
            border: 1px solid #e5e7eb; border-radius: 0.75rem;
            cursor: pointer; transition: background-color 0.2s ease;
        }
        .emergency-item-header:hover {
            background-color: #f9fafb;
        }
        .emergency-item-header h3 {
            font-size: 1.125rem; font-weight: 700; text-transform: uppercase;
            color: #111827;
        }
        .emergency-item-header svg {
            width: 24px; height: 24px; color: var(--danger-color);
            transition: transform 0.3s ease;
        }
        .emergency-item-content {
            max-height: 0; overflow: hidden;
            transition: max-height 0.4s ease-out, padding 0.4s ease-out;
            padding: 0 1rem; background-color: #f9fafb;
            border-left: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;
            border-bottom: 1px solid #e5e7eb;
            border-bottom-left-radius: 0.75rem; border-bottom-right-radius: 0.75rem;
        }
        .emergency-item.open .emergency-item-content {
            max-height: 1000px; padding: 1.25rem 1rem;
        }
        .emergency-item.open .emergency-item-header svg {
            transform: rotate(90deg);
        }
        
        /* Estilos para a versÃ£o offline */
        .emergency-item-offline {
            background-color: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        .emergency-item-offline-header {
            display: flex; justify-content: space-between; align-items: center;
            width: 100%; padding: 1rem; background-color: white;
            cursor: pointer; transition: background-color 0.2s ease;
            border-bottom: 1px solid #e5e7eb;
        }
        .emergency-item-offline-header:hover {
            background-color: #f9fafb;
        }
        .emergency-item-offline-header h3 {
            font-size: 1rem; font-weight: 700; text-transform: uppercase;
            color: #111827;
        }
        .emergency-item-offline-header svg {
            width: 20px; height: 20px; color: var(--danger-color);
            transition: transform 0.3s ease;
        }
        .emergency-item-offline.open .emergency-item-offline-header svg {
            transform: rotate(90deg);
        }
        .emergency-item-offline-content {
            max-height: 0; overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            padding: 0 1rem;
        }
        .emergency-item-offline.open .emergency-item-offline-content {
            max-height: 500px; padding: 1rem;
        }
        
        /* Estilos para botÃ£o de emergÃªncia offline */
        .emergency-quick-access {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }
        .emergency-quick-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            background-color: white;
            border: 2px solid #ef4444;
            border-radius: 0.75rem;
            color: #ef4444;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .emergency-quick-btn:hover {
            background-color: #ef4444;
            color: white;
        }
        .emergency-quick-btn i {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .emergency-quick-btn span {
            font-size: 0.875rem;
            text-align: center;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Indicador de ConexÃ£o -->
    <div id="connection-indicator" class="connection-indicator online">
        <i class="fas fa-wifi"></i> Online
    </div>

    <!-- Container da AplicaÃ§Ã£o -->
    <div id="app-container" class="relative flex size-full min-h-screen flex-col bg-gray-100">
        <!-- MODO ONLINE -->
        <div id="online-mode">
            <!-- TELA DA LISTA DE EMERGÃŠNCIAS -->
            <div id="list-screen">
                <header class="sticky top-0 z-10 flex items-center bg-gray-100/90 p-4 pb-3 backdrop-blur-sm border-b border-gray-200">
                    <h1 data-i18n="headerTitle" class="text-gray-800 text-xl font-bold leading-tight flex-1 text-center">EmergÃªncias em Campo</h1>
                    <!-- SELETOR DE IDIOMA -->
                    <div class="absolute top-3 right-3 flex space-x-1 bg-gray-200 p-1 rounded-full">
                        <button class="lang-btn" data-lang="pt">ðŸ‡§ðŸ‡·</button>
                        <button class="lang-btn" data-lang="es">ðŸ‡ªðŸ‡¸</button>
                    </div>
                </header>
                <main class="flex-grow p-4">
                    <!-- SeÃ§Ã£o de Primeiros Socorros -->
                    <div class="mb-6 bg-white p-4 rounded-xl shadow-sm border border-gray-200">
                        <h2 class="text-lg font-bold text-gray-800 mb-3" data-i18n="trainingTitle">CapacitaÃ§Ã£o Essencial</h2>
                        <p class="text-gray-600 mb-4" data-i18n="trainingText">Esteja preparado. Instale o aplicativo oficial da Cruz Vermelha para aprender tÃ©cnicas vitais de primeiros socorros.</p>
                        <a href="https://play.google.com/store/apps/details?id=com.cube.gdpc.fa&pcampaignid=web_share" target="_blank" rel="noopener noreferrer" class="w-full flex items-center justify-center text-center py-3 px-4 border-2 border-red-600 rounded-full shadow-sm text-base font-bold text-red-600 bg-transparent hover:bg-red-600 hover:text-white" data-i18n="trainingButton">
                            Aprenda com a Cruz Vermelha
                        </a>
                    </div>
                    <!-- Lista de EmergÃªncias -->
                    <div id="emergency-list" class="space-y-3">
                        <!-- A lista serÃ¡ populada dinamicamente pelo JavaScript -->
                    </div>
                </main>
            </div>
        </div>
        
        <!-- MODO OFFLINE -->
        <div id="offline-mode" class="hidden">
            <!-- TELA DA LISTA DE EMERGÃŠNCIAS - VERSÃƒO OFFLINE -->
            <div id="list-screen-offline">
                <header class="sticky top-0 z-10 flex items-center bg-gray-100/90 p-4 pb-3 backdrop-blur-sm border-b border-gray-200">
                    <h1 data-i18n="headerTitleOffline" class="text-gray-800 text-xl font-bold leading-tight flex-1 text-center">EmergÃªncias - Modo Offline</h1>
                    <!-- SELETOR DE IDIOMA -->
                    <div class="absolute top-3 right-3 flex space-x-1 bg-gray-200 p-1 rounded-full">
                        <button class="lang-btn" data-lang="pt">ðŸ‡§ðŸ‡·</button>
                        <button class="lang-btn" data-lang="es">ðŸ‡ªðŸ‡¸</button>
                    </div>
                </header>
                
                <div class="offline-banner m-4">
                    <i class="fas fa-wifi-slash"></i>
                    <span data-i18n="offlineModeActive">Modo Offline Ativado - InformaÃ§Ãµes Limitadas</span>
                </div>
                
                <main class="flex-grow p-4">
                    <!-- Acesso RÃ¡pido a EmergÃªncias CrÃ­ticas -->
                    <div class="mb-6">
                        <h2 class="text-lg font-bold text-gray-800 mb-3" data-i18n="quickAccessTitle">Acesso RÃ¡pido</h2>
                        <div class="emergency-quick-access">
                            <button class="emergency-quick-btn" onclick="showEmergencyDetail('rcp')">
                                <i class="fas fa-heartbeat"></i>
                                <span data-i18n="rcpButton">RCP</span>
                            </button>
                            <button class="emergency-quick-btn" onclick="showEmergencyDetail('engasgo')">
                                <i class="fas fa-head-side-cough"></i>
                                <span data-i18n="chokingButton">Engasgo</span>
                            </button>
                            <button class="emergency-quick-btn" onclick="showEmergencyDetail('sangramento')">
                                <i class="fas fa-tint"></i>
                                <span data-i18n="bleedingButton">Sangramento</span>
                            </button>
                            <button class="emergency-quick-btn" onclick="showEmergencyDetail('queimadura')">
                                <i class="fas fa-fire-extinguisher"></i>
                                <span data-i18n="burnButton">Queimadura</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Lista de EmergÃªncias Simplificada -->
                    <div>
                        <h2 class="text-lg font-bold text-gray-800 mb-3" data-i18n="emergencyListTitle">Lista de EmergÃªncias</h2>
                        <div id="emergency-list-offline" class="space-y-3">
                            <!-- A lista serÃ¡ populada dinamicamente pelo JavaScript -->
                        </div>
                    </div>
                    
                    <!-- InformaÃ§Ã£o de CapacitaÃ§Ã£o Offline -->
                    <div class="mt-6 bg-white p-4 rounded-xl shadow-sm border border-gray-200">
                        <h2 class="text-lg font-bold text-gray-800 mb-3" data-i18n="offlineTrainingTitle">CapacitaÃ§Ã£o Offline</h2>
                        <p class="text-gray-600 mb-4" data-i18n="offlineTrainingText">Quando tiver acesso Ã  internet, baixe materiais de treinamento para uso offline.</p>
                        <div class="p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                            <p class="text-yellow-700 text-sm" data-i18n="offlineTrainingNote">
                                <i class="fas fa-exclamation-triangle mr-2"></i>
                                Em emergÃªncias, siga os protocolos bÃ¡sicos mostrados aqui e procure ajuda mÃ©dica o mais rÃ¡pido possÃ­vel.
                            </p>
                        </div>
                    </div>
                </main>
            </div>
            
            <!-- TELA DE DETALHES DE EMERGÃŠNCIA OFFLINE -->
            <div id="emergency-detail-screen" class="hidden">
                <header class="sticky top-0 z-10 flex items-center bg-gray-100/90 p-4 pb-3 backdrop-blur-sm border-b border-gray-200">
                    <button onclick="backToEmergencyList()" class="mr-2">
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg>
                    </button>
                    <h1 id="emergency-detail-title" class="text-gray-800 text-xl font-bold leading-tight flex-1 text-center">TÃ­tulo da EmergÃªncia</h1>
                </header>
                
                <main class="flex-grow p-4">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-4">
                        <div class="mb-4 p-3 bg-red-50 rounded-lg border border-red-200">
                            <h3 class="text-lg font-bold text-red-800 mb-2" data-i18n="firstAidTitle">Primeiros Socorros</h3>
                            <div id="emergency-detail-steps" class="text-red-700">
                                <!-- Passos serÃ£o inseridos aqui -->
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <h3 class="text-lg font-bold text-gray-800 mb-2" data-i18n="whatToDoTitle">O Que Fazer</h3>
                            <div id="emergency-detail-what" class="text-gray-700">
                                <!-- InformaÃ§Ãµes serÃ£o inseridas aqui -->
                            </div>
                        </div>
                        
                        <div class="p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                            <h3 class="text-lg font-bold text-yellow-800 mb-2" data-i18n="warningTitle">AtenÃ§Ã£o</h3>
                            <p id="emergency-detail-warning" class="text-yellow-700">
                                <!-- Avisos serÃ£o inseridos aqui -->
                            </p>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>
    
    <!-- BARRA DE NAVEGAÃ‡ÃƒO GLOBAL -->
    <nav class="fixed bottom-0 left-0 right-0 z-50 border-t border-gray-200 bg-white shadow-[0_-2px_5px_rgba(0,0,0,0.05)]">
      <div class="mx-auto flex h-16 max-w-4xl items-center justify-around">
        <button onclick="window.history.back()" class="flex h-full w-1/2 flex-col items-center justify-center text-gray-600 transition-colors hover:bg-gray-50 hover:text-teal-600">
          <svg class="h-7 w-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg>
          <span class="mt-1 text-xs font-bold uppercase tracking-wider" data-i18n="navBack">Voltar</span>
        </button>
        <div class="h-8 w-px bg-gray-200"></div>
        <a href="index.html" class="flex h-full w-1/2 flex-col items-center justify-center text-gray-600 transition-colors hover:bg-gray-50 hover:text-teal-600">
          <svg class="h-7 w-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>
          <span class="mt-1 text-xs font-bold uppercase tracking-wider" data-i18n="navHome">InÃ­cio</span>
        </a>
      </div>
    </nav>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- INÃCIO DA LÃ“GICA DE TRADUÃ‡ÃƒO ---
    const translations = {
        "pt": {
            "pageTitle": "EmergÃªncias - MissionCare Plus",
            "headerTitle": "EmergÃªncias em Campo",
            "headerTitleOffline": "EmergÃªncias - Modo Offline",
            "trainingTitle": "CapacitaÃ§Ã£o Essencial",
            "trainingText": "Esteja preparado. Instale o aplicativo oficial da Cruz Vermelha para aprender tÃ©cnicas vitais de primeiros socorros.",
            "trainingButton": "Aprenda com a Cruz Vermelha",
            "offlineTrainingTitle": "CapacitaÃ§Ã£o Offline",
            "offlineTrainingText": "Quando tiver acesso Ã  internet, baixe materiais de treinamento para uso offline.",
            "offlineTrainingNote": "Em emergÃªncias, siga os protocolos bÃ¡sicos mostrados aqui e procure ajuda mÃ©dica o mais rÃ¡pido possÃ­vel.",
            "summaryTitle": "Resumo",
            "firstAidTitle": "Primeiros Socorros",
            "fullProcedureButton": "Ver Procedimento Completo",
            "navBack": "Voltar",
            "navHome": "InÃ­cio",
            "offlineModeActive": "Modo Offline Ativado - InformaÃ§Ãµes Limitadas",
            "quickAccessTitle": "Acesso RÃ¡pido",
            "rcpButton": "RCP",
            "chokingButton": "Engasgo",
            "bleedingButton": "Sangramento",
            "burnButton": "Queimadura",
            "emergencyListTitle": "Lista de EmergÃªncias",
            "whatToDoTitle": "O Que Fazer",
            "warningTitle": "AtenÃ§Ã£o",
            "emergencyData": [
                { id: "afogamento", titulo: "Afogamento", resumo: "Parada respiratÃ³ria por submersÃ£o em lÃ­quido, com risco de hipÃ³xia e lesÃ£o cerebral.", primeiros_socorros: "Retire a vÃ­tima da Ã¡gua com seguranÃ§a, mantenha vias aÃ©reas livres, inicie respiraÃ§Ã£o bocaâ€‘aâ€‘boca e RCP o mais rÃ¡pido possÃ­vel; evite hipotermia e transporte para atendimento rÃ¡pido.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/afogamento/afogamento" },
                { id: "choque", titulo: "Choque", resumo: "PerfusÃ£o sanguÃ­nea comprometida, levando a baixa oxigenaÃ§Ã£o tecidual e risco de falÃªncia de Ã³rgÃ£os.", primeiros_socorros: "Deite a pessoa com pernas elevadas, aqueÃ§a, controle hemorragias, nÃ£o ofereÃ§a lÃ­quidos por via oral, chame socorro mÃ©dico urgente.", link: "https://www.msdmanuals.com/pt/casa/distÃºrbios-do-coraÃ§Ã£o-e-dos-vasos-sanguÃ­neos/hipotensÃ£o-arterial-e-choque/choque" },
                { id: "doenca_altitude", titulo: "DoenÃ§a da altitude", resumo: "Quadro por baixa pressÃ£o de oxigÃªnio em altitudes elevadas (>2400â€¯m), com cefaleia, nÃ¡useas, fadiga e possÃ­vel edema cerebral ou pulmonar.", primeiros_socorros: "DesÃ§a para altitude inferior, mantenha hidrataÃ§Ã£o, descanso; em casos graves (HAPE/HACE), esforÃ§o mÃ­nimo, oxigÃªnio se disponÃ­vel e evacuaÃ§Ã£o urgente.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/doenÃ§a-da-altitude/doenÃ§a-da-altitude" },
                { id: "entorses_estiramentos", titulo: "Entorses e estiramentos", resumo: "LesÃ£o ligamentar ou muscular por torÃ§Ã£o da articulaÃ§Ã£o, causando dor e inchaÃ§o.", primeiros_socorros: "Aplicar RICE (Repouso, Ice, CompressÃ£o, ElevaÃ§Ã£o); imobilizar levemente e evitar sobrecarga; buscar atendimento se inchaÃ§o ou dor persistirem.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/primeiros-socorros/lesÃµes-dos-tecidos-moles" },
                { id: "feridas", titulo: "Feridas", resumo: "LesÃµes abertas na pele que podem sangrar ou infectar facilmente.", primeiros_socorros: "Limpe com Ã¡gua limpa, desinfete com antissÃ©ptico, pressione para estancar sangramento e cubra com curativo estÃ©ril; observe sinais de infecÃ§Ã£o.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/primeiros-socorros/feridas" },
                { id: "fraturas", titulo: "Fraturas", resumo: "Quebra de osso, geralmente acompanhada de dor intensa, inchaÃ§o e deformidade.", primeiros_socorros: "Imobilize com talas improvisadas sem mover desnecessariamente; aplique gelo na Ã¡rea e transporte para avaliaÃ§Ã£o mÃ©dica urgente.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/fraturas/consideraÃ§Ãµes-gerais-sobre-fraturas" },
                { id: "insolacao", titulo: "InsolaÃ§Ã£o", resumo: "Golpe de calor por exposiÃ§Ã£o excessiva ao sol ou calor, com febre alta, confusÃ£o e possÃ­vel inconsciÃªncia.", primeiros_socorros: "Leve a vÃ­tima para local fresco, aplique compressas frias ou banho morno, ofereÃ§a lÃ­quidos e monitore; busque socorro urgentemente.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/distÃºrbios-causados-pelo-calor/insolaÃ§Ã£o" },
                { id: "eletricidade", titulo: "LesÃµes por eletricidade", resumo: "Choque elÃ©trico pode causar queimaduras, arritmia, convulsÃµes ou parada cardÃ­aca.", primeiros_socorros: "Desligue a fonte; sÃ³ toque na vÃ­tima apÃ³s isolamento; avalie sinais vitais; se sem pulso, inicie RCP; transporte para avaliaÃ§Ã£o urgente.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/lesÃµes-provocadas-por-eletricidade-e-raios/lesÃµes-provocadas-pela-eletricidade" },
                { id: "raios", titulo: "LesÃµes por raios", resumo: "Descarga elÃ©trica atmosfÃ©rica extremamente potente; pode causar queimaduras, parada cardÃ­aca ou trauma interno.", primeiros_socorros: "Afaste a vÃ­tima de local perigoso, trate queimaduras, monitore sinais vitais, inicie RCP se necessÃ¡rio e solicite socorro imediato.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/lesÃµes-provocadas-por-eletricidade-e-raios/lesÃµes-provocadas-por-raios" },
                { id: "mordida_humana", titulo: "Mordida humana", resumo: "Alta chance de infecÃ§Ã£o por bactÃ©rias presentes na boca humana.", primeiros_socorros: "Lave bem com Ã¡gua e sabÃ£o, aplique antissÃ©ptico, cubra com curativo limpo; procure atendimento mÃ©dico para avaliaÃ§Ã£o e possÃ­vel antibiÃ³tico.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/mordidas-e-picadas/mordida-humana" },
                { id: "mordida_animal", titulo: "Mordida de animal", resumo: "Ferida causada por animal, risco de raiva ou infecÃ§Ã£o bacteriana.", primeiros_socorros: "Lave cuidadosamente por vÃ¡rios minutos, aplique antissÃ©ptico, cubra; busque atendimento mÃ©dico para profilaxia (vacinaÃ§Ã£o ou soro).", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/mordidas-e-picadas/mordidas-de-animais" },
                { id: "mordida_serpente", titulo: "Mordida de serpente", resumo: "Veneno pode causar necrose, hemorragias ou efeitos neurotÃ³xicos graves.", primeiros_socorros: "Mantenha vÃ­tima calma e imÃ³vel; posicione o local afetado abaixo do coraÃ§Ã£o; evite sucÃ§Ã£o ou torniquete; evacuaÃ§Ã£o mÃ©dica urgente.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/mordidas-e-picadas/mordidas-de-serpentes" },
                { id: "obstrucao_respiratoria", titulo: "ObstruÃ§Ã£o das vias respiratÃ³rias", resumo: "Bloqueio da traqueia por objeto/alimento, risco imediato de asfixia.", primeiros_socorros: "Adultos: manobra de Heimlich atÃ© 5 vezes. BebÃªs: cinco tapas nas costas, depois cinco compressÃµes torÃ¡cicas; se inconsciente, iniciar RCP.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/primeiros-socorros/obstruÃ§Ã£o-das-vias-respiratÃ³rias" },
                { id: "queimadura_quimica_olho", titulo: "Queimaduras quÃ­micas nos olhos", resumo: "Contato de substÃ¢ncias corrosivas nos olhos, risco de lesÃ£o ocular grave.", primeiros_socorros: "Lave o olho afetado com Ã¡gua corrente por pelo menos 15 minutos, sem esfregar; cubra levemente e busque atendimento oftalmolÃ³gico imediato.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/lesÃµes-oculares/queimaduras-no-olho" },
                { id: "parada_cardiaca", titulo: "Parada cardÃ­aca", resumo: "CessaÃ§Ã£o sÃºbita da funÃ§Ã£o cardÃ­aca e circulatÃ³ria, requer aÃ§Ã£o imediata para salvar vida.", primeiros_socorros: "Verifique resposta e respiraÃ§Ã£o; chame socorro; inicie RCP (compressÃµes rÃ¡pidas 120/min com proporÃ§Ã£o 30:2); use DEA se disponÃ­vel.", link: "https://www.msdmanuals.com/pt/casa/distÃºrbios-do-coraÃ§Ã£o-e-dos-vasos-sanguÃ­neos/parada-cardÃ­aca-e-reanimaÃ§Ã£o-cardiopulmonar-rcp/parada-cardÃ­aca-e-reanimaÃ§Ã£o-cardiopulmonar-rcp" },
                { id: "picadas_insetos", titulo: "Picadas de abelhas/vespas/formigas", resumo: "ReaÃ§Ã£o quÃ­mica ou alÃ©rgica Ã  toxina injetada pelo inseto; risco de anafilaxia.", primeiros_socorros: "Remova ferrÃ£o sem espremer, lave o local, aplique compressa fria; monitore sinais de reaÃ§Ã£o grave (inchaÃ§o, dificuldade respiratÃ³ria) e busque socorro urgente.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/mordidas-e-picadas/picadas-de-abelhas-vespas-vespÃµes-e-formigas" },
                { id: "prioridades_primeiros_socorros", titulo: "Prioridades dos primeiros socorros", resumo: "SequÃªncia ABC: vias aÃ©reas, respiraÃ§Ã£o, circulaÃ§Ã£o â€” avaliaÃ§Ã£o inicial do paciente.", primeiros_socorros: "Avalie ABC: A (vias aÃ©reas), B (respiraÃ§Ã£o), C (circulaÃ§Ã£o); inicie suporte conforme necessidade (RCP, controle de sangramento, oxigÃªnio, posiÃ§Ã£o).", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/primeiros-socorros/prioridades-dos-primeiros-socorros-de-emergÃªncia" },
                { id: "queimaduras", titulo: "Queimaduras", resumo: "LesÃ£o da pele por calor, quÃ­mico ou radiaÃ§Ã£o, com possÃ­vel risco de choque ou infecÃ§Ã£o.", primeiros_socorros: "Resfrie com Ã¡gua corrente por 10â€“20â€¯min; cubra com pano limpo e Ãºmido; nÃ£o aplique substÃ¢ncias caseiras; busque atendimento em queimaduras extensas.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/queimaduras/inalaÃ§Ã£o-de-fumaÃ§a" },
                { id: "ulcera_frio", titulo: "Ãšlcera de frio", resumo: "LesÃ£o de pele e tecidos pelo frio extremo (frostbite), com risco de necrose.", primeiros_socorros: "ReaqueÃ§a a Ã¡rea afetada gradualmente com Ã¡gua morna; nÃ£o esfregue; proteja de recongelamento; busque atendimento se houver lesÃ£o profunda.", link: "https://www.msdmanuals.com/pt/casa/lesÃµes-e-envenenamentos/lesÃµes-provocadas-pelo-frio/%C3%BAlcera-de-frio" }
            ],
            // Dados offline para emergÃªncias crÃ­ticas
            "criticalEmergencyData": {
                "rcp": {
                    title: "RCP (ReanimaÃ§Ã£o Cardiopulmonar)",
                    steps: [
                        "Verifique se a pessoa estÃ¡ consciente e respirando",
                        "PeÃ§a ajuda imediatamente (chame por socorro)",
                        "Deite a pessoa de costas em superfÃ­cie firme",
                        "Posicione as mÃ£os uma sobre a outra no centro do peito",
                        "Comprima o peito com frequÃªncia de 100-120 compressÃµes por minuto",
                        "ApÃ³s 30 compressÃµes, faÃ§a 2 ventilaÃ§Ãµes (boca a boca)",
                        "Continue o ciclo de 30:2 atÃ© ajuda chegar ou a pessoa recuperar"
                    ],
                    whatToDo: "Mantenha as compressÃµes firmes e rÃ¡pidas. NÃ£o interrompa a menos que seja absolutamente necessÃ¡rio. Se houver um DEA (Desfibrilador Externo AutomÃ¡tico) disponÃ­vel, use-o o mais rÃ¡pido possÃ­vel.",
                    warning: "A RCP Ã© extremamente cansativa. Se possÃ­vel, troque com outra pessoa a cada 2 minutos sem interromper as compressÃµes."
                },
                "engasgo": {
                    title: "Engasgo",
                    steps: [
                        "Pergunte: 'VocÃª estÃ¡ engasgado?'",
                        "Se a pessoa conseguir falar ou tossir, nÃ£o interfira",
                        "Se nÃ£o conseguir falar, aplique a manobra de Heimlich",
                        "Fique atrÃ¡s da pessoa e envolva a cintura com os braÃ§os",
                        "Feche o punho e posicione acima do umbigo",
                        "Comprima para dentro e para cima com movimentos rÃ¡pidos",
                        "Repita atÃ© o objeto sair ou a pessoa desmaiar"
                    ],
                    whatToDo: "Para bebÃªs, use tapas nas costas e compressÃµes no peito. Se a pessoa desmaiar, inicie RCP imediatamente.",
                    warning: "NÃ£o dÃª tapas nas costas em adultos engasgados. Isso pode empurrar o objeto mais para baixo."
                },
                "sangramento": {
                    title: "Sangramento Intenso",
                    steps: [
                        "Use luvas se disponÃ­vel",
                        "Aplique pressÃ£o direta sobre o ferimento com um pano limpo",
                        "Eleve a Ã¡rea afetada acima do nÃ­vel do coraÃ§Ã£o se possÃ­vel",
                        "Mantenha a pressÃ£o por pelo menos 10 minutos",
                        "Se o sangue continuar, aplique mais pressÃ£o e mais panos",
                        "NÃ£o remova os primeiros panos para verificar",
                        "Procure atendimento mÃ©dico imediato"
                    ],
                    whatToDo: "Se o sangramento for em um membro, aplique um torniquete apenas como Ãºltimo recurso e acima do ferimento. Anote a hora da aplicaÃ§Ã£o.",
                    warning: "Torniquetes devem ser usados apenas em situaÃ§Ãµes extremas, pois podem causar danos aos tecidos se mantidos por muito tempo."
                },
                "queimadura": {
                    title: "Queimaduras",
                    steps: [
                        "Afaste a pessoa da fonte do calor",
                        "Resfrie a Ã¡rea com Ã¡gua corrente por 10-20 minutos",
                        "Remova anÃ©is, roupas ou joias da Ã¡rea queimada",
                        "Cubra com gaze esterilizada ou pano limpo",
                        "NÃ£o use gelo, manteiga ou outros remÃ©dios caseiros",
                        "Para queimaduras graves, procure atendimento mÃ©dico",
                        "Mantenha a pessoa aquecida para evitar hipotermia"
                    ],
                    whatToDo: "NÃ£o estoure bolhas. Se a queimadura for grande ou no rosto, mÃ£os, pÃ©s ou articulaÃ§Ãµes, procure atendimento mÃ©dico imediato.",
                    warning: "Queimaduras elÃ©tricas e quÃ­micas requerem atenÃ§Ã£o mÃ©dica imediata, mesmo que pareÃ§am pequenas."
                }
            }
        },
        "es": {
            "pageTitle": "Emergencias - MissionCare Plus",
            "headerTitle": "Emergencias en el Campo",
            "headerTitleOffline": "Emergencias - Modo Offline",
            "trainingTitle": "CapacitaciÃ³n Esencial",
            "trainingText": "EstÃ© preparado. Instale la aplicaciÃ³n oficial de la Cruz Roja para aprender tÃ©cnicas vitales de primeros auxilios.",
            "trainingButton": "Aprenda con la Cruz Roja",
            "offlineTrainingTitle": "CapacitaciÃ³n Offline",
            "offlineTrainingText": "Cuando tenga acceso a internet, descargue materiales de capacitaciÃ³n para uso offline.",
            "offlineTrainingNote": "En emergencias, siga los protocolos bÃ¡sicos que se muestran aquÃ­ y busque ayuda mÃ©dica lo mÃ¡s rÃ¡pido posible.",
            "summaryTitle": "Resumen",
            "firstAidTitle": "Primeros Auxilios",
            "fullProcedureButton": "Ver Procedimiento Completo",
            "navBack": "Volver",
            "navHome": "Inicio",
            "offlineModeActive": "Modo Offline Activado - InformaciÃ³n Limitada",
            "quickAccessTitle": "Acceso RÃ¡pido",
            "rcpButton": "RCP",
            "chokingButton": "Atragantamiento",
            "bleedingButton": "Sangrado",
            "burnButton": "Quemadura",
            "emergencyListTitle": "Lista de Emergencias",
            "whatToDoTitle": "QuÃ© Hacer",
            "warningTitle": "AtenciÃ³n",
            "emergencyData": [
                { id: "afogamento", titulo: "Ahogamiento", resumo: "Paro respiratorio por inmersiÃ³n en lÃ­quido, con riesgo de hipoxia y lesiÃ³n cerebral.", primeiros_socorros: "Retire a la vÃ­ctima del agua de forma segura, mantenga las vÃ­as respiratorias despejadas, inicie respiraciÃ³n boca a boca y RCP lo antes posible; evite la hipotermia y transporte para atenciÃ³n rÃ¡pida.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/ahogamiento/ahogamiento" },
                { id: "choque", titulo: "Shock", resumo: "PerfusiÃ³n sanguÃ­nea comprometida, que lleva a una baja oxigenaciÃ³n de los tejidos y riesgo de fallo orgÃ¡nico.", primeiros_socorros: "Acueste a la persona con las piernas elevadas, abrÃ­guela, controle hemorragias, no ofrezca lÃ­quidos por vÃ­a oral, llame a emergencias mÃ©dicas urgentes.", link: "https://www.msdmanuals.com/es/hogar/trastornos-del-corazÃ³n-y-los-vasos-sanguÃ­neos/hipotensiÃ³n-arterial-y-shock/shock" },
                { id: "doenca_altitude", titulo: "Mal de altura", resumo: "Cuadro por baja presiÃ³n de oxÃ­geno en altitudes elevadas (>2400 m), con cefalea, nÃ¡useas, fatiga y posible edema cerebral o pulmonar.", primeiros_socorros: "Descienda a una altitud inferior, mantenga la hidrataciÃ³n, descanse; en casos graves (EAPC/EACC), esfuerzo mÃ­nimo, oxÃ­geno si estÃ¡ disponible y evacuaciÃ³n urgente.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/mal-de-altura/mal-de-altura" },
                { id: "entorses_estiramentos", titulo: "Esguinces y distensiones", resumo: "LesiÃ³n de ligamentos o mÃºsculos por torsiÃ³n de la articulaciÃ³n, que causa dolor e hinchazÃ³n.", primeiros_socorros: "Aplicar RICE (Reposo, Hielo, CompresiÃ³n, ElevaciÃ³n); inmovilizar ligeramente y evitar sobrecarga; buscar atenciÃ³n si la hinchazÃ³n o el dolor persisten.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/primeros-auxilios/lesiones-de-partes-blandas" },
                { id: "feridas", titulo: "Heridas", resumo: "Lesiones abiertas en la piel que pueden sangrar o infectarse fÃ¡cilmente.", primeiros_socorros: "Limpie con agua limpia, desinfecte con antisÃ©ptico, presione para detener el sangrado y cubra con un vendaje estÃ©ril; observe signos de infecciÃ³n.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/primeros-auxilios/heridas" },
                { id: "fraturas", titulo: "Fracturas", resumo: "Rotura de un hueso, generalmente acompaÃ±ada de dolor intenso, hinchazÃ³n y deformidad.", primeiros_socorros: "Inmovilice con fÃ©rulas improvisadas sin mover innecesariamente; aplique hielo en la zona y transporte para evaluaciÃ³n mÃ©dica urgente.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/fracturas/introducciÃ³n-a-las-fracturas" },
                { id: "insolacao", titulo: "InsolaciÃ³n", resumo: "Golpe de calor por exposiciÃ³n excesiva al sol o al calor, con fiebre alta, confusiÃ³n y posible pÃ©rdida de conocimiento.", primeiros_socorros: "Lleve a la vÃ­ctima a un lugar fresco, aplique compresas frÃ­as o un baÃ±o tibio, ofrezca lÃ­quidos y vigile; busque ayuda urgentemente.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/trastornos-producidos-por-el-calor/insolaciÃ³n-o-golpe-de-calor" },
                { id: "eletricidade", titulo: "Lesiones por electricidad", resumo: "Un choque elÃ©ctrico puede causar quemaduras, arritmias, convulsiones o paro cardÃ­aco.", primeiros_socorros: "Desconecte la fuente; solo toque a la vÃ­ctima despuÃ©s del aislamiento; evalÃºe los signos vitales; si no tiene pulso, inicie la RCP; transporte para una evaluaciÃ³n urgente.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/lesiones-por-electricidad-y-por-rayos/lesiones-por-electricidad" },
                { id: "raios", titulo: "Lesiones por rayos", resumo: "Descarga elÃ©ctrica atmosfÃ©rica extremadamente potente; puede causar quemaduras, paro cardÃ­aco o traumatismo interno.", primeiros_socorros: "Aleje a la vÃ­ctima de la zona de peligro, trate las quemaduras, vigile los signos vitales, inicie la RCP si es necesario y solicite ayuda inmediata.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/lesiones-por-electricidad-y-por-rayos/lesiones-por-rayos" },
                { id: "mordida_humana", titulo: "Mordedura humana", resumo: "Alta probabilidad de infecciÃ³n por bacterias presentes en la boca humana.", primeiros_socorros: "Lave bien con agua y jabÃ³n, aplique un antisÃ©ptico, cubra con un vendaje limpio; busque atenciÃ³n mÃ©dica para evaluaciÃ³n y posible antibiÃ³tico.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/mordeduras-y-picaduras/mordeduras-de-seres-humanos" },
                { id: "mordida_animal", titulo: "Mordedura de animal", resumo: "Herida causada por un animal, con riesgo de rabia o infecciÃ³n bacteriana.", primeiros_socorros: "Lave cuidadosamente durante varios minutos, aplique un antisÃ©ptico, cubra; busque atenciÃ³n mÃ©dica para profilaxis (vacunaciÃ³n o suero).", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/mordeduras-y-picaduras/mordeduras-de-animales" },
                { id: "mordida_serpente", titulo: "Mordedura de serpiente", resumo: "El veneno puede causar necrosis, hemorragias o efectos neurotÃ³xicos graves.", primeiros_socorros: "Mantenga a la vÃ­ctima calmada e inmÃ³vil; coloque el lugar afectado por debajo del corazÃ³n; evite la succiÃ³n o el torniquete; evacuaciÃ³n mÃ©dica urgente.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/mordeduras-y-picaduras/mordeduras-de-serpiente" },
                { id: "obstrucao_respiratoria", titulo: "ObstrucciÃ³n de las vÃ­as respiratorias", resumo: "Bloqueo de la trÃ¡quea por un objeto/alimento, con riesgo inmediato de asfixia.", primeiros_socorros: "Adultos: maniobra de Heimlich hasta 5 veces. BebÃ©s: cinco palmadas en la espalda, luego cinco compresiones torÃ¡cicas; si estÃ¡ inconsciente, inicie la RCP.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/primeros-auxilios/obstrucciÃ³n-de-las-vÃ­as-respiratorias" },
                { id: "queimadura_quimica_olho", titulo: "Quemaduras quÃ­micas en los ojos", resumo: "Contacto de sustancias corrosivas en los ojos, con riesgo de lesiÃ³n ocular grave.", primeiros_socorros: "Lave el ojo afectado con agua corriente durante al menos 15 minutos, sin frotar; cubra ligeramente y busque atenciÃ³n oftalmolÃ³gica inmediata.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/lesiones-oculares/quemaduras-oculares" },
                { id: "parada_cardiaca", titulo: "Paro cardÃ­aco", resumo: "Cese sÃºbito de la funciÃ³n cardÃ­aca y circulatoria, requiere acciÃ³n inmediata para salvar la vida.", primeiros_socorros: "Verifique la respuesta y la respiraciÃ³n; pida ayuda; inicie la RCP (compresiones rÃ¡pidas 120/min con una proporciÃ³n de 30:2); use un DEA si estÃ¡ disponible.", link: "https://www.msdmanuals.com/es/hogar/trastornos-del-corazÃ³n-y-los-vasos-sanguÃ­neos/paro-cardÃ­aco-y-rcp/paro-cardÃ­aco-y-reanimaciÃ³n-cardiopulmonar-rcp" },
                { id: "picadas_insetos", titulo: "Picaduras de abejas/avispas/hormigas", resumo: "ReacciÃ³n quÃ­mica o alÃ©rgica a la toxina inyectada por el insecto; riesgo de anafilaxia.", primeiros_socorros: "Retire el aguijÃ³n sin apretar, lave la zona, aplique una compresa frÃ­a; vigile los signos de una reacciÃ³n grave (hinchazÃ³n, dificultad para respirar) y busque ayuda urgente.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/mordeduras-y-picaduras/picaduras-de-abejas-avispas-avispones-y-hormigas" },
                { id: "prioridades_primeiros_socorros", titulo: "Prioridades de primeros auxilios", resumo: "Secuencia ABC: vÃ­as aÃ©reas, respiraciÃ³n, circulaciÃ³n â€” evaluaciÃ³n inicial del paciente.", primeiros_socorros: "EvalÃºe el ABC: A (vÃ­as aÃ©reas), B (respiraciÃ³n), C (circulaciÃ³n); inicie el soporte segÃºn sea necesario (RCP, control de hemorragias, oxÃ­geno, posiciÃ³n).", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/primeros-auxilios/prioridades-en-los-primeros-auxilios" },
                { id: "queimaduras", titulo: "Quemaduras", resumo: "LesiÃ³n de la piel por calor, productos quÃ­micos o radiaciÃ³n, con posible riesgo de shock o infecciÃ³n.", primeiros_socorros: "EnfrÃ­e con agua corriente durante 10â€“20 min; cubra con un paÃ±o limpio y hÃºmedo; no aplique sustancias caseras; busque atenciÃ³n para quemaduras extensas.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/quemaduras/quemaduras" },
                { id: "ulcera_frio", titulo: "CongelaciÃ³n", resumo: "LesiÃ³n de la piel y tejidos por frÃ­o extremo (frostbite), con riesgo de necrosis.", primeiros_socorros: "Recaliente el Ã¡rea afectada gradualmente con agua tibia; no frote; proteja de una nueva congelaciÃ³n; busque atenciÃ³n mÃ©dica si hay lesiÃ³n profunda.", link: "https://www.msdmanuals.com/es/hogar/traumatismos-y-envenenamientos/lesiones-por-frÃ­o/congelaciÃ³n" }
            ],
            // Dados offline para emergÃªncias crÃ­ticas em espanhol
            "criticalEmergencyData": {
                "rcp": {
                    title: "RCP (ReanimaciÃ³n Cardiopulmonar)",
                    steps: [
                        "Verifique si la persona estÃ¡ consciente y respirando",
                        "Pida ayuda inmediatamente (llame a emergencias)",
                        "Acueste a la persona boca arriba sobre una superficie firme",
                        "Posicione las manos una sobre la otra en el centro del pecho",
                        "Comprima el pecho con una frecuencia de 100-120 compresiones por minuto",
                        "DespuÃ©s de 30 compresiones, haga 2 ventilaciones (boca a boca)",
                        "ContinÃºe el ciclo de 30:2 hasta que llegue ayuda o la persona se recupere"
                    ],
                    whatToDo: "Mantenga las compresiones firmes y rÃ¡pidas. No interrumpa a menos que sea absolutamente necesario. Si hay un DEA (Desfibrilador Externo AutomÃ¡tico) disponible, Ãºselo lo mÃ¡s rÃ¡pido posible.",
                    warning: "La RCP es extremadamente agotadora. Si es posible, cambie con otra persona cada 2 minutos sin interrumpir las compresiones."
                },
                "engasgo": {
                    title: "Atragantamiento",
                    steps: [
                        "Pregunte: 'Â¿EstÃ¡ atragantado?'",
                        "Si la persona puede hablar o toser, no interfiera",
                        "Si no puede hablar, aplique la maniobra de Heimlich",
                        "PÃ¡rese detrÃ¡s de la persona y envuelva la cintura con los brazos",
                        "Cierre el puÃ±o y posiciÃ³nelo encima del ombligo",
                        "Comprima hacia adentro y hacia arriba con movimientos rÃ¡pidos",
                        "Repita hasta que el objeto salga o la persona se desmaye"
                    ],
                    whatToDo: "Para bebÃ©s, use palmadas en la espalda y compresiones en el pecho. Si la persona se desmaya, inicie RCP inmediatamente.",
                    warning: "No dÃ© palmadas en la espalda a adultos atragantados. Esto puede empujar el objeto mÃ¡s hacia abajo."
                },
                "sangramento": {
                    title: "Sangrado Intenso",
                    steps: [
                        "Use guantes si estÃ¡n disponibles",
                        "Aplique presiÃ³n directa sobre la herida con un paÃ±o limpio",
                        "Eleve el Ã¡rea afectada por encima del nivel del corazÃ³n si es posible",
                        "Mantenga la presiÃ³n durante al menos 10 minutos",
                        "Si la sangre continÃºa, aplique mÃ¡s presiÃ³n y mÃ¡s paÃ±os",
                        "No quite los primeros paÃ±os para verificar",
                        "Busque atenciÃ³n mÃ©dica inmediata"
                    ],
                    whatToDo: "Si el sangrado es en una extremidad, aplique un torniquete solo como Ãºltimo recurso y por encima de la herida. Anote la hora de aplicaciÃ³n.",
                    warning: "Los torniquetes deben usarse solo en situaciones extremas, ya que pueden causar daÃ±os a los tejidos si se mantienen durante mucho tiempo."
                },
                "queimadura": {
                    title: "Quemaduras",
                    steps: [
                        "Aleje a la persona de la fuente de calor",
                        "EnfrÃ­e el Ã¡rea con agua corriente durante 10-20 minutos",
                        "Quite anillos, ropa o joyas del Ã¡rea quemada",
                        "Cubra con gasa estÃ©ril o un paÃ±o limpio",
                        "No use hielo, mantequilla u otros remedios caseros",
                        "Para quemaduras graves, busque atenciÃ³n mÃ©dica",
                        "Mantenga a la persona abrigada para evitar hipotermia"
                    ],
                    whatToDo: "No reviente las ampollas. Si la quemadura es grande o estÃ¡ en la cara, manos, pies o articulaciones, busque atenciÃ³n mÃ©dica inmediata.",
                    warning: "Las quemaduras elÃ©ctricas y quÃ­micas requieren atenciÃ³n mÃ©dica inmediata, incluso si parecen pequeÃ±as."
                }
            }
        }
    };
    
    // Elementos do DOM
    const onlineMode = document.getElementById('online-mode');
    const offlineMode = document.getElementById('offline-mode');
    const emergencyListContainer = document.getElementById('emergency-list');
    const emergencyListContainerOffline = document.getElementById('emergency-list-offline');
    const listScreenOffline = document.getElementById('list-screen-offline');
    const emergencyDetailScreen = document.getElementById('emergency-detail-screen');
    const emergencyDetailTitle = document.getElementById('emergency-detail-title');
    const emergencyDetailSteps = document.getElementById('emergency-detail-steps');
    const emergencyDetailWhat = document.getElementById('emergency-detail-what');
    const emergencyDetailWarning = document.getElementById('emergency-detail-warning');
    
    // FunÃ§Ã£o para renderizar a lista online
    const renderList = (lang) => {
        emergencyListContainer.innerHTML = '';
        const data = translations[lang].emergencyData;
        
        data.forEach(item => {
            const itemWrapper = document.createElement('div');
            itemWrapper.className = 'emergency-item';
            itemWrapper.innerHTML = `
                <button class="emergency-item-header">
                    <h3>${item.titulo}</h3>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>
                </button>
                <div class="emergency-item-content">
                    <div class="space-y-4">
                        <div>
                            <h4 class="text-base font-semibold text-gray-700 border-b pb-2 mb-2">${translations[lang].summaryTitle}</h4>
                            <p class="text-gray-600 text-base leading-relaxed">${item.resumo}</p>
                        </div>
                        <div class="p-3 bg-red-50 rounded-lg border border-red-200">
                            <h4 class="text-base font-semibold text-red-800 border-b border-red-200 pb-2 mb-2">${translations[lang].firstAidTitle}</h4>
                            <p class="text-red-700 text-base leading-relaxed">${item.primeiros_socorros}</p>
                        </div>
                        <a href="${item.link}" target="_blank" rel="noopener noreferrer" class="inline-block mt-2 w-full text-center py-2 px-4 border-2 border-teal-600 rounded-full shadow-sm text-base font-bold text-teal-600 bg-transparent hover:bg-teal-600 hover:text-white">${translations[lang].fullProcedureButton}</a>
                    </div>
                </div>
            `;
            
            itemWrapper.querySelector('.emergency-item-header').addEventListener('click', () => {
                document.querySelectorAll('.emergency-item.open').forEach(openItem => {
                    if (openItem !== itemWrapper) {
                        openItem.classList.remove('open');
                    }
                });
                itemWrapper.classList.toggle('open');
            });
            emergencyListContainer.appendChild(itemWrapper);
        });
    };
    
    // FunÃ§Ã£o para renderizar a lista offline
    const renderOfflineList = (lang) => {
        emergencyListContainerOffline.innerHTML = '';
        const data = translations[lang].emergencyData;
        
        // Limitar a lista para as emergÃªncias mais crÃ­ticas no modo offline
        const criticalEmergencies = [
            'parada_cardiaca', 'obstrucao_respiratoria', 'afogamento', 
            'sangramento', 'queimaduras', 'choque'
        ];
        
        const filteredData = data.filter(item => criticalEmergencies.includes(item.id));
        
        filteredData.forEach(item => {
            const itemWrapper = document.createElement('div');
            itemWrapper.className = 'emergency-item-offline';
            itemWrapper.innerHTML = `
                <button class="emergency-item-offline-header">
                    <h3>${item.titulo}</h3>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>
                </button>
                <div class="emergency-item-offline-content">
                    <div class="space-y-3">
                        <div>
                            <h4 class="text-sm font-semibold text-gray-700 border-b pb-1 mb-1">${translations[lang].summaryTitle}</h4>
                            <p class="text-gray-600 text-sm leading-relaxed">${item.resumo}</p>
                        </div>
                        <div class="p-2 bg-red-50 rounded-lg border border-red-200">
                            <h4 class="text-sm font-semibold text-red-800 border-b border-red-200 pb-1 mb-1">${translations[lang].firstAidTitle}</h4>
                            <p class="text-red-700 text-sm leading-relaxed">${item.primeiros_socorros}</p>
                        </div>
                    </div>
                </div>
            `;
            
            itemWrapper.querySelector('.emergency-item-offline-header').addEventListener('click', () => {
                document.querySelectorAll('.emergency-item-offline.open').forEach(openItem => {
                    if (openItem !== itemWrapper) {
                        openItem.classList.remove('open');
                    }
                });
                itemWrapper.classList.toggle('open');
            });
            emergencyListContainerOffline.appendChild(itemWrapper);
        });
    };
    
    // FunÃ§Ã£o para mostrar detalhes de emergÃªncia offline
    function showEmergencyDetail(emergencyType) {
        const lang = localStorage.getItem('language') || 'pt';
        const emergencyData = translations[lang].criticalEmergencyData[emergencyType];
        
        if (!emergencyData) return;
        
        // Preencher os detalhes
        emergencyDetailTitle.textContent = emergencyData.title;
        
        // Preencher os passos
        emergencyDetailSteps.innerHTML = '';
        const stepsList = document.createElement('ol');
        stepsList.className = 'list-decimal pl-5 space-y-1';
        
        emergencyData.steps.forEach(step => {
            const li = document.createElement('li');
            li.textContent = step;
            li.className = 'mb-1';
            stepsList.appendChild(li);
        });
        
        emergencyDetailSteps.appendChild(stepsList);
        
        // Preencher "O Que Fazer"
        emergencyDetailWhat.textContent = emergencyData.whatToDo;
        
        // Preencher "AtenÃ§Ã£o"
        emergencyDetailWarning.textContent = emergencyData.warning;
        
        // Mostrar a tela de detalhes
        listScreenOffline.classList.add('hidden');
        emergencyDetailScreen.classList.remove('hidden');
    }
    
    // FunÃ§Ã£o para voltar Ã  lista de emergÃªncias
    function backToEmergencyList() {
        emergencyDetailScreen.classList.add('hidden');
        listScreenOffline.classList.remove('hidden');
    }
    
    // Tornar a funÃ§Ã£o global para uso nos botÃµes
    window.showEmergencyDetail = showEmergencyDetail;
    window.backToEmergencyList = backToEmergencyList;
    
    const setLanguage = (lang) => {
        document.getElementById('html-lang').setAttribute('lang', lang);
        localStorage.setItem('language', lang);
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            element.textContent = translations[lang][key] || translations['pt'][key];
        });
        
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.lang === lang);
        });
        
        // Re-renderiza as listas com o idioma selecionado
        renderList(lang);
        renderOfflineList(lang);
    };
    
    document.querySelectorAll('.lang-btn').forEach(button => {
        button.addEventListener('click', () => {
            setLanguage(button.dataset.lang);
        });
    });
    
    const initialLang = localStorage.getItem('language') || 'pt';
    setLanguage(initialLang);
    
    // Inicializar as listas
    renderList(initialLang);
    renderOfflineList(initialLang);
});
</script>
</body>
</html>
